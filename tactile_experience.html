<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>키감 체험하기</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>키감 체험하기</h1>
        <nav>
            <ul>
                <li><a href="index.html">홈으로 돌아가기</a></li>
            </ul>
        </nav>
    </header>

    <section id="keyboard-test">
        <h2>가상 키보드 체험</h2>
        <p>아래 입력창에 키보드를 눌러 타건 소리를 들어보세요!</p>

        <!-- 입력창 -->
        <textarea id="keyboard-input" placeholder="여기에 입력해 보세요!" rows="5" cols="40"></textarea>

        <!-- 소리 파일 -->
        <audio id="key-sound" src="sounds/q1.m4a"></audio>
    </section>

    <script>
        let isPlaying = false; // 소리가 재생 중인지 체크하는 변수

        // 모든 키 입력 시 소리 재생
        document.getElementById("keyboard-input").addEventListener("keydown", function(event) {
            const sound = document.getElementById("key-sound");

            if (!isPlaying) {  // 소리가 이미 재생 중이 아니면
                isPlaying = true; // 소리가 재생 중이라고 설정
                sound.currentTime = 0; // 소리 반복 재생을 위해 시간을 0으로 설정
                sound.play();
                
                // 소리가 끝나면 isPlaying을 false로 설정
                sound.onended = function() {
                    isPlaying = false;
                };
            }
        });
    </script>

    <footer>
        <p>&copy; 2025 키보드 체험 페이지. 모든 권리 보유.</p>
    </footer>
</body>
</html>
